(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[32],{"3EXq":function(e,t,n){e.exports={login:"antd-pro-pages-user-login2-index-login",bg1:"antd-pro-pages-user-login2-index-bg1",gyl:"antd-pro-pages-user-login2-index-gyl",gy2:"antd-pro-pages-user-login2-index-gy2",wrap:"antd-pro-pages-user-login2-index-wrap",logo:"antd-pro-pages-user-login2-index-logo",box:"antd-pro-pages-user-login2-index-box",header:"antd-pro-pages-user-login2-index-header",item:"antd-pro-pages-user-login2-index-item",remember:"antd-pro-pages-user-login2-index-remember",remember_box:"antd-pro-pages-user-login2-index-remember_box",text:"antd-pro-pages-user-login2-index-text",btn:"antd-pro-pages-user-login2-index-btn",code:"antd-pro-pages-user-login2-index-code",code_img:"antd-pro-pages-user-login2-index-code_img",user:"antd-pro-pages-user-login2-index-user",rem:"antd-pro-pages-user-login2-index-rem",fg:"antd-pro-pages-user-login2-index-fg",userLabel:"antd-pro-pages-user-login2-index-userLabel",reb:"antd-pro-pages-user-login2-index-reb"}},T7p2:function(e,t,n){"use strict";var a=n("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a(n("2Taf")),r=a(n("MhPg")),u=a(n("l4Ni")),i=a(n("ujKo")),o=n("DtyJ"),d=a(n("sy1d")),s=n("ahDk"),c=a(n("Ysru"));function f(e){var t=g();return function(){var n,a=(0,i.default)(e);if(t){var l=(0,i.default)(this).constructor;n=Reflect.construct(a,arguments,l)}else n=a.apply(this,arguments);return(0,u.default)(this,n)}}function g(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var p=function(e){(0,r.default)(n,e);var t=f(n);function n(){var e;return(0,l.default)(this,n),e=t.apply(this,arguments),e.captchaConfig=function(){return(0,o.defer)(function(){return(0,o.from)((0,d.default)("/twlinks/authorize/captcha/config",{method:"GET",errorHandler:function(){}})).pipe((0,s.map)(function(e){return null===e||void 0===e?void 0:e.result}))})},e.getCaptcha=function(){return(0,o.defer)(function(){return(0,o.from)((0,d.default)("/twlinks/authorize/captcha/image?width=130&height=40",{method:"GET"})).pipe((0,s.map)(function(e){return e.result}))})},e}return n}(c.default),m=p;t.default=m},vlar:function(e,t,n){"use strict";var a=n("tAuX"),l=n("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("T2oS");var r=l(n("W9HT")),u=l(n("qIgq")),i=a(n("q1tI")),o=n("Hg0r"),d=l(n("3EXq")),s=l(n("T7p2")),c=n("c+yx"),f=0,g=function(e){var t=e.dispatch,n=e.settings,a=new s.default(""),l=(0,i.useState)(""),o=(0,u.default)(l,2),g=o[0],p=o[1],m=(0,i.useState)(""),v=(0,u.default)(m,2),y=v[0],b=v[1],h=(0,i.useState)(36e5),x=(0,u.default)(h,2),E=x[0],N=x[1],k=(0,i.useState)(!1),w=(0,u.default)(k,2),S=w[0],C=w[1],_=(0,i.useState)(""),L=(0,u.default)(_,2),T=L[0],q=L[1],P=(0,i.useState)(""),R=(0,u.default)(P,2),D=R[0],I=R[1],K=(0,i.useState)(""),j=(0,u.default)(K,2),z=j[0],H=j[1],J=(0,i.useState)(!1),M=(0,u.default)(J,2),O=M[0],X=M[1],B=function(){t({type:"login/login",payload:{username:g,password:y,expires:E,tokenType:"default",verifyKey:T,verifyCode:z}})},G=function(e){t({type:"login/SSOLogin",payload:{ticket:e}})},U=function(){a.getCaptcha().subscribe(function(e){q(e.key),I(e.base64)})};(0,i.useEffect)(function(){t&&t({type:"settings/fetchConfig",callback:function(){var e=document.getElementById("sys-title");document.getElementById("title-icon");e&&n.title&&(e.textContent=n.title);var t=(0,c.getPageQuery)(),a=t.ticket;t.channel;a&&0===f?(f=1,G(a)):a||C(!0)}}),a.captchaConfig().subscribe(function(e){e&&(X(e.enabled),e.enabled&&U())})},[n.title]);var A=function(){return i.default.createElement("div",{className:d.default.login},i.default.createElement("div",{className:d.default.wrap},i.default.createElement("div",{className:d.default.logo}),i.default.createElement("div",{className:d.default.box,style:{height:O?"387px":"330px"}},i.default.createElement("div",{className:d.default.header},"\u7528\u6237\u767b\u5f55"),i.default.createElement("div",{className:d.default.item},i.default.createElement("div",{className:d.default.userLabel},"\u7528\u6237\u540d"),i.default.createElement("input",{style:{borderStyle:"none none solid none"},onChange:function(e){return p(e.target.value)},value:g,type:"text"})),i.default.createElement("div",{className:d.default.item,onKeyUp:function(e){13!==e.keyCode||O||B()}},i.default.createElement("div",{className:d.default.userLabel},"\u5bc6",i.default.createElement("span",{style:{marginLeft:"1em"}}),"\u7801"),i.default.createElement("input",{style:{borderStyle:"none none solid none"},onChange:function(e){return b(e.target.value)},value:y,type:"password"})),O?i.default.createElement("div",{className:d.default.item},i.default.createElement("div",{className:d.default.userLabel},"\u9a8c\u8bc1\u7801"),i.default.createElement("input",{onKeyUp:function(e){13===e.keyCode&&B()},style:{borderStyle:"none none solid none"},onChange:function(e){return H(e.target.value)},value:z,type:"text"}),i.default.createElement("div",{className:d.default.code,onClick:function(){U()}},i.default.createElement("img",{src:D,className:d.default.code_img}))):i.default.createElement("div",null),i.default.createElement("div",{className:d.default.remember},i.default.createElement("div",{className:d.default.remember_box},i.default.createElement("input",{type:"checkbox",checked:-1===E,onChange:function(){N(-1===E?36e5:-1)}}),i.default.createElement("div",{className:d.default.text},"\u8bb0\u4f4f\u6211"))),i.default.createElement("input",{onClick:function(){B()},className:d.default.btn,type:"button",name:"\u767b\u5f55",value:"\u767b\u5f55"}))))};return i.default.createElement("div",{style:{position:"absolute",left:0,top:0,width:"100%",height:"100vh",backgroundSize:"100%"}},S?A():i.default.createElement(r.default,{spinning:S}))},p=(0,o.connect)(function(e){var t=e.login,n=e.loading,a=e.settings;return{userLogin:t,submitting:n.effects["login/login"],settings:a}})(g);t.default=p}}]);